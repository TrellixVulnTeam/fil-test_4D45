var Filecoin=function(t){var n={};function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(a,o,function(n){return t[n]}.bind(null,o));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(t,n,e){const a=e(4);n.fetch=e(7),n.ok=async t=>{if(!(t=await t).ok){const{status:n}=t,e=`unexpected status ${n}`;let o;try{let n=await t.text();try{o=(n=JSON.parse(n)).message||n.Message}catch(t){o=n}}catch(t){throw Object.assign(a(t,e),{status:n})}throw Object.assign(new Error(o||e),{status:n})}return t},n.toIterable=t=>{if(t[Symbol.asyncIterator])return t;if(t.getReader)return async function*(){const n=t.getReader();try{for(;;){const{done:t,value:e}=await n.read();if(t)return;yield e}}finally{n.releaseLock()}}();throw new Error("unknown stream")}},function(t,n){t.exports=t=>{const n=`${t}`.split("/"),e=function(t){const n=t.indexOf("tcp");return-1===n?null:t[n+1]}(n);return`${function(t){return-1===t.indexOf("https")?"http":"https"}(n)}://${n[2]}${null==e?"":":"+e}`}},function(t,n){t.exports=t=>{if(null==t)return t;const n=/^[A-Z]+$/;return Object.keys(t).reduce((e,a)=>(n.test(a)?e[a.toLowerCase()]=t[a]:n.test(a[0])?e[a[0].toLowerCase()+a.slice(1)]=t[a]:e[a]=t[a],e),{})}},function(t,n,e){t.exports=e(5),t.exports.parse=e(5),t.exports.stringify=e(9)},function(t,n){function e(t){return t.stack&&t.name&&t.message?t.stack.substring(t.name.length+3+t.message.length).split("\n"):t.stack?t.stack.split("\n"):void 0}t.exports=function(t,n){if(!(t.stack&&t.name&&t.message))return console.error(new Error("stackless error")),t;var a,o,s=new Error(n),r=(a=e(s).slice(1),o=e(t),a.filter((function(t){return!~o.indexOf(t)}))).join("\n");return s.__proto__=t,s.stack=s.name+": "+s.message+"\n"+r+"\n  "+t.stack,s}},function(t,n){t.exports=t=>(async function*(){const n=/\r?\n/,e=new TextDecoder("utf8");let a="";for await(let o of t){"string"==typeof o&&(o=(new TextEncoder).encode(o));const t=(a+=e.decode(o,{stream:!0})).split(n);a=t.pop();for(let n=0;n<t.length;n++)yield JSON.parse(t[n])}(a+=e.decode())&&(yield JSON.parse(a))})()},function(t,n,e){t.exports=(t,n)=>("function"!=typeof t&&(n=t,t=null),t=t||e(0).fetch,"string"==typeof(n=n||{})&&(n={apiAddr:n}),n.apiAddr=n.apiAddr||"/ip4/127.0.0.1/tcp/3453/http",{actor:{ls:e(8)(t,n)},address:{default:e(10)(t,n),lookup:e(11)(t,n),ls:e(12)(t,n),new:e(13)(t,n)},bootstrap:{ls:e(14)(t,n)},chain:{head:e(15)(t,n),ls:e(16)(t,n)},client:{cat:e(17)(t,n),import:e(18)(t,n),listAsks:e(21)(t,n),payments:e(22)(t,n),proposeStorageDeal:e(23)(t,n),queryStorageDeal:e(24)(t,n)},config:{get:e(25)(t,n),set:e(26)(t,n)},dag:{get:e(27)(t,n)},dht:{findProvs:e(28)(t,n),findPeer:e(29)(t,n)},id:e(30)(t,n),log:{level:e(31)(t,n),ls:e(32)(t,n),tail:e(33)(t,n)},message:{wait:e(34)(t,n)},miner:{create:e(35)(t,n)},mining:{stop:e(36)(t,n)},ping:e(37)(t,n),retrievalClient:{retrievePiece:e(38)(t,n)},show:{block:e(39)(t,n)},stats:{bandwidth:e(40)(t,n)},swarm:{connect:e(41)(t,n),peers:e(42)(t,n)},version:e(43)(t,n),wallet:{balance:e(44)(t,n),export:e(45)(t,n),import:e(46)(t,n)}})},function(t,n,e){"use strict";var a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a)return a;throw new Error("unable to locate global object")}();t.exports=n=a.fetch,n.default=a.fetch.bind(a),n.Headers=a.Headers,n.Request=a.Request,n.Response=a.Response},function(t,n,e){const a=e(3),o=e(1),{ok:s,toIterable:r}=e(0);t.exports=(t,n)=>e=>(async function*(){e=e||{};const i=o(n.apiAddr)+"/api/actor/ls",c=await s(t(i,{signal:e.signal}));for await(const t of a(r(c.body)))t.code&&(t.code=t.code["/"]),t.head&&(t.head=t.head["/"]),yield t})()},function(t,n){t.exports=t=>(async function*(){for await(const n of t)yield JSON.stringify(n)+"\n"})()},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/address/default`,r=await o(t(s,{signal:e.signal})),{Address:i}=await r.json();return i}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{},e=encodeURIComponent(e);const r=`${a(n.apiAddr)}/api/address/lookup?arg=${e}`;return(await o(t(r,{signal:s.signal}))).json()}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/address/ls`,r=await o(t(s,{signal:e.signal}));return(await r.json()).Addresses}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/address/new`,r=await o(t(s,{signal:e.signal})),{Address:i}=await r.json();return i}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/bootstrap/ls`,r=await o(t(s,{signal:e.signal}));return(await r.json()).Peers||[]}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/chain/head`,r=await o(t(s,{signal:e.signal}));return(await r.json()).map(t=>t["/"])}},function(t,n,e){const a=e(3),o=e(1),{ok:s,toIterable:r}=e(0);t.exports=(t,n)=>e=>(async function*(){e=e||{};const i=o(n.apiAddr)+"/api/chain/ls",c=await s(t(i,{signal:e.signal}));for await(const t of a(r(c.body)))yield t.map(t=>(Array.isArray(t.parents)&&(t.parents=t.parents.map(t=>t["/"])),t.stateRoot&&(t.stateRoot=t.stateRoot["/"]),t))})()},function(t,n,e){const a=e(1),{ok:o,toIterable:s}=e(0);t.exports=(t,n)=>(e,r)=>(async function*(){r=r||{};const i=`${a(n.apiAddr)}/api/client/cat?arg=${encodeURIComponent(e)}`,c=await o(t(i,{signal:r.signal}));for await(const t of s(c.body))yield t})()},function(t,n,e){const a=e(1),{ok:o}=e(0),{toFormData:s}=e(19);t.exports=(t,n)=>async(e,r)=>{r=r||{};const i=`${a(n.apiAddr)}/api/client/import`,c=await o(t(i,{method:"POST",signal:r.signal,body:await s(e)}));return(await c.json())["/"]}},function(t,n,e){const a=e(20);n.toFormData=async function(t){if(!t[Symbol.asyncIterator]){const n=new FormData;return n.append("file",t),n}const n=new FormData,e=[];for await(const n of t)e.push(a(n)?n.buffer:n);return n.append("file",new Blob(e)),n}},function(t,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,n,e){const a=e(3),o=e(1),{ok:s,toIterable:r}=e(0),i=e(2);t.exports=(t,n)=>e=>(async function*(){e=e||{};const c=o(n.apiAddr)+"/api/client/list-asks",p=await s(t(c,{signal:e.signal}));for await(const t of a(r(p.body)))yield i(t)})()},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{},e=encodeURIComponent(e);const r=`${a(n.apiAddr)}/api/client/payments?arg=${e}`,i=await o(t(r,{signal:s.signal}));return(await i.json()||[]).map(t=>{const{valid_at:n,...e}=t;return null!=n&&(e.validAt=n),e})}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async(e,r,i,c,p)=>{p=p||{};const l=new URLSearchParams(p.qs);[e,r.toString(),i,c].forEach(t=>l.append("arg",t)),null!=p.allowDuplicates&&l.set("allow-duplicates",p.allowDuplicates);const d=`${a(n.apiAddr)}/api/client/propose-storage-deal?${l}`,u=await o(t(d,{signal:p.signal})),f=s(await u.json());return f.proposalCid&&(f.proposalCid=f.proposalCid["/"]),f.proofInfo=s(f.proofInfo),f}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async(e,r)=>{r=r||{};const i=`${a(n.apiAddr)}/api/client/query-storage-deal?arg=${encodeURIComponent(e)}`,c=await o(t(i,{signal:r.signal})),p=s(await c.json());return p.proposalCid&&(p.proposalCid=p.proposalCid["/"]),p.proofInfo&&(p.proofInfo=s(p.proofInfo)),p.proofInfo&&p.proofInfo.commitmentMessage&&(p.proofInfo.commitmentMessage=p.proofInfo.commitmentMessage["/"]),p}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{};const r=`${a(n.apiAddr)}/api/config?arg=${encodeURIComponent(e)}`,i=await o(t(r,{signal:s.signal}));return await i.json()}},function(t,n,e){const a=e(1),o=e(4),{ok:s}=e(0);t.exports=(t,n)=>async(e,r,i)=>{i=i||{};try{r=JSON.stringify(r)}catch(t){throw o(t,"failed to stringify config value")}const c=new URLSearchParams(i.qs);[e,r].forEach(t=>c.append("arg",t));const p=`${a(n.apiAddr)}/api/config?${c}`,l=await s(t(p,{signal:i.signal}));return await l.json()}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{};const r=`${a(n.apiAddr)}/api/dag/get?arg=${encodeURIComponent(e)}`,i=await o(t(r,{signal:s.signal}));return"application/json"===i.headers.get("Content-Type")?i.json():i.buffer?i.buffer():i.blob()}},function(t,n,e){const a=e(3),o=e(1),{ok:s,toIterable:r}=e(0);t.exports=(t,n)=>(e,i)=>(async function*(){i=i||{};const c=new URLSearchParams(i.qs);c.set("arg",e.toString()),i.numProviders&&c.set("num-providers",i.numProviders);const p=`${o(n.apiAddr)}/api/dht/findprovs?${c}`,l=await s(t(p,{signal:i.signal}));for await(const t of a(r(l.body))){const n={type:t.Type,responses:(t.Responses||[]).map(t=>({id:t.ID,addrs:t.Addrs||[]}))};t.ID&&(n.id=t.ID),t.Extra&&(n.extra=t.Extra),yield n}})()},function(t,n,e){const a=e(3),o=e(1),{ok:s,toIterable:r}=e(0);t.exports=(t,n)=>(e,i)=>(async function*(){i=i||{};const c=new URLSearchParams(i.qs);c.set("arg",e.toString());const p=`${o(n.apiAddr)}/api/dht/findpeer?${c}`,l=await s(t(p,{signal:i.signal}));for await(const t of a(r(l.body)))yield t})()},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/id`,r=await o(t(s,{signal:e.signal})),i=await r.json();return{id:i.ID,addresses:i.Addresses||[]}}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{};const r=new URLSearchParams(s.qs);r.set("arg",e),s.subsystem&&r.set("subsystem",s.subsystem);const i=`${a(n.apiAddr)}/api/log/level?${r}`;return(await o(t(i,{signal:s.signal}))).json()}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/log/ls`;return(await o(t(s,{signal:e.signal}))).json()}},function(t,n,e){const a=e(1),{ok:o,toIterable:s}=e(0),r=e(3);t.exports=(t,n)=>e=>(async function*(){e=e||{};const i=`${a(n.apiAddr)}/api/log/tail`,c=await o(t(i,{signal:e.signal}));for await(const t of r(s(c.body)))yield t})()},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async(e,r)=>{r=r||{};const i=new URLSearchParams(r.qs);i.set("arg",e.toString()),null!=r.message&&i.set("message",r.message),null!=r.receipt&&i.set("receipt",r.receipt),null!=r.return&&i.set("return",r.return),r.timeout&&i.set("timeout",r.timeout);const c=`${a(n.apiAddr)}/api/message/wait?${i}`,p=await o(t(c,{signal:r.signal}));return s(await p.json())}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{};const r=new URLSearchParams(s.qs);r.set("arg",e),null!=s.from&&r.set("from",s.from),null!=s.gasLimit&&r.set("gas-limit",s.gasLimit),null!=s.gasPrice&&r.set("gas-price",s.gasPrice),null!=s.peerId&&r.set("peerid",s.peerId),null!=s.preview&&r.set("preview",s.preview),null!=s.sectorSize&&r.set("sectorsize",s.sectorSize);const i=`${a(n.apiAddr)}/api/miner/create?${r}`;return(await o(t(i,{signal:s.signal}))).json()}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async e=>{e=e||{};const s=`${a(n.apiAddr)}/api/mining/stop`;return(await o(t(s,{signal:e.signal}))).json()}},function(t,n,e){const a=e(1),o=e(3),{ok:s,toIterable:r}=e(0),i=e(2);t.exports=(t,n)=>(e,c)=>(async function*(){c=c||{};const p=new URLSearchParams(c.qs);p.set("arg",e.toString()),null!=c.count&&p.set("count",c.count);const l=`${a(n.apiAddr)}/api/ping?${p}`,d=await s(t(l,{signal:c.signal}));for await(const t of o(r(d.body)))yield i(t)})()},function(t,n,e){const a=e(1),{ok:o,toIterable:s}=e(0);t.exports=(t,n)=>(e,r,i)=>(async function*(){i=i||{},e=encodeURIComponent(e),r=encodeURIComponent(r);const c=`${a(n.apiAddr)}/api/retrieval-client/retrieve-piece?arg=${e}&arg=${r}`,p=await o(t(c,{signal:i.signal}));yield*s(p.body)})()},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{};const r=`${a(n.apiAddr)}/api/show/block?arg=${encodeURIComponent(e)}`,i=await o(t(r,{signal:s.signal})),c=await i.json();return Array.isArray(c.parents)&&(c.parents=c.parents.map(t=>t["/"])),c.stateRoot&&(c.stateRoot=c.stateRoot["/"]),c}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async e=>{e=e||{};const r=`${a(n.apiAddr)}/api/stats/bandwidth`,i=await o(t(r,{signal:e.signal}));return s(await i.json())}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async(e,r)=>{e=Array.isArray(e)?e:[e],r=r||{};const i=new URLSearchParams(r.qs);e.forEach(t=>i.append("arg",t.toString()));const c=`${a(n.apiAddr)}/api/swarm/connect?${i}`,p=await o(t(c,{signal:r.signal}));return(await p.json()||[]).map(s)}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async e=>{e=e||{};const r=new URLSearchParams(e.qs);e.verbose?r.set("verbose",!0):(e.streams&&r.set("streams",!0),e.latency&&r.set("latency",!0));const i=`${a(n.apiAddr)}/api/swarm/peers?${r}`,c=await o(t(i,{signal:e.signal}));return((await c.json()).Peers||[]).map(t=>{const n={addr:t.Addr,peer:t.Peer};return(e.verbose||e.streams)&&(n.streams=(t.Streams||[]).map(s)),(e.verbose||e.latency)&&(n.latency=t.Latency),e.verbose&&(n.muxer=t.Muxer),n})}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async e=>{e=e||{};const r=`${a(n.apiAddr)}/api/version`,i=await o(t(r,{signal:e.signal}));return s(await i.json())}},function(t,n,e){const a=e(1),{ok:o}=e(0);t.exports=(t,n)=>async(e,s)=>{s=s||{},e=encodeURIComponent(e);const r=`${a(n.apiAddr)}/api/wallet/balance?arg=${e}`;return(await o(t(r,{signal:s.signal}))).json()}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2);t.exports=(t,n)=>async(e,r)=>{e=Array.isArray(e)?e:[e],r=r||{};const i=new URLSearchParams(r.qs);e.forEach(t=>i.append("arg",t));const c=`${a(n.apiAddr)}/api/wallet/export?${i}`,p=await o(t(c,{signal:r.signal}));return s(await p.json())}},function(t,n,e){const a=e(1),{ok:o}=e(0),s=e(2),r=e(47);t.exports=(t,n)=>async(e,i)=>{e=Array.isArray(e)?e:[e],i=i||{};const c=new r;c.append("walletFile",JSON.stringify({KeyInfo:e}));const p=`${a(n.apiAddr)}/api/wallet/import`,l=await o(t(p,{signal:i.signal,method:"POST",body:c}));return s(await l.json())}},function(t,n){t.exports="object"==typeof self?self.FormData:window.FormData}]);